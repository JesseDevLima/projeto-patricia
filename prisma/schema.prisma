generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql" 
  url      = env("DATABASE_URL")
}

model Cliente {
  id             String   @id @default(uuid())
  codigo         String   @unique
  cliente        String
  cnpj           String   @unique
  endereco       String
  cep            String
  emailFin       String
  telefoneFixo   String?
  celular        String?
  email          String
  inscEstad      String
  suframa        String?
  transportadora String?
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  transportadoras Transportadora[]
}

model Fornecedor {
  id              String    @id @default(uuid())
  codigo          String    @unique
  fornecedor      String
  cnpj            String    @unique
  endereco        String
  telefoneFixo    String?
  cep             String
  emailFin        String
  celular         String?
  emailPedido     String
  inscEstad       String
  comissao        Float?
  dataRecebimento DateTime?
  createdAt       DateTime  @default(now())
  updatedAt       DateTime  @updatedAt

  transportadoras Transportadora[]
}

model Transportadora {
  id             String      @id @default(uuid())
  codigo         String      @unique
  transportadora String
  numeroNF       String
  descricao      String?
  quantidade     Int
  valorUn        Float
  valorTotal     Float
  dataSaida      DateTime?
  createdAt      DateTime    @default(now())
  updatedAt      DateTime    @updatedAt
  Cliente        Cliente?    @relation(fields: [clienteId], references: [id])
  clienteId      String?
  Fornecedor     Fornecedor? @relation(fields: [fornecedorId], references: [id])
  fornecedorId   String?

  @@map("transportadoras")
}
